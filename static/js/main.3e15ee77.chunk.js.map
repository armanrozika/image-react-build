{"version":3,"sources":["reducer/rootReducer.js","components/favourites.js","components/search.js","App.js","index.js"],"names":["initState","data","favlist","showcolor","hidecolor","colorstate","Reducer","state","arguments","length","undefined","action","type","Object","objectSpread","payload","loadstate","console","log","concat","toConsumableArray","splice","connect","props","favImg","map","image","index","react_default","a","createElement","key","src","className","Search","query","searchload","btnext","waitload","pagination","setQuery","e","_this","setState","target","value","searchQuery","_callee","regenerator_default","wrap","_context","prev","next","abrupt","fetchData","beforeLoad","afterLoad","stop","searchViaEnter","_callee2","_context2","keyCode","nextResults","fetchNext","queryWord","changeColor","classList","contains","addActive","parseInt","dataset","addFavorite","images","url","removeActive","indexOf","removeFavorite","this","_this2","item","data-index","data-color","colorzero","onClick","shownList","onChange","onKeyUp","placeholder","Component","dispatch","_fetchData","asyncToGenerator","mark","_callee3","getData","_context3","fetch","sent","json","_x3","_x4","_x5","_x6","apply","_fetchNext","_callee4","_context4","_x7","_x8","fav","App","active","shown","shownlist","searchquery","len","arr","i","push","setActive","_i2","refreshPage","window","location","href","react_router_dom","exact","activeClassName","to","react_router","path","render","search","assign","isShown","component","Favourites","store","createStore","reducer","applyMiddleware","thunk","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3e15ee77.chunk.js","sourcesContent":["\r\nconst initState = {\r\n    data: [],\r\n    favlist: [],\r\n    showcolor: 'hidecol',\r\n    hidecolor: 'classzero',\r\n    colorstate: []\r\n}\r\n\r\nconst Reducer = (state = initState, action)=>{\r\n    if(action.type === 'fetch_data'){\r\n    \t//console.log(action.payload.data[0])\r\n        return {\r\n            ...state,\r\n            data: action.payload.data,\r\n            loadstate: 'loading'\r\n        }\r\n    }\r\n    if(action.type === 'fetch_next'){\r\n    \tconsole.log(state.data)\r\n    \treturn {\r\n    \t\t...state,\r\n    \t\tdata: [...state.data, ...action.payload.data]\r\n    \t}\r\n    }\r\n    if(action.type === 'add_favorite'){\r\n    \treturn{\r\n    \t\t...state,\r\n    \t\tfavlist: [...state.favlist, action.payload]\r\n    \t}\r\n    }\r\n    if(action.type === 'remove_favorite'){\r\n    \tconsole.log(action.payload)\r\n    \tstate.favlist.splice(action.payload, 1)\r\n    \treturn {\r\n    \t\t...state,\r\n    \t}\r\n    }\r\n    return state;\r\n}\r\n\r\nexport default Reducer;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst Favourites = (props)=> {\r\n\tconsole.log(props)\r\n\tconst favImg = props.state.favlist.length > 0 ? (\r\n\t\tprops.state.favlist.map((image, index) => {\r\n\t\t\treturn <img key={index} src={image}/>\r\n\t\t})\r\n\t) : (\r\n\t\tnull\r\n\t)\r\n\treturn (\r\n\t\t<div className=\"favourites\">\r\n\t\t\t<div className=\"search\">\r\n\t\t\t\t{favImg}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\treturn {\r\n\t\tstate: state\r\n\t}\r\n}\r\n\r\nexport default connect(mapStateToProps)(Favourites);","import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nclass Search extends Component {\r\n  state = {\r\n    query: '',\r\n    searchload: 'show',\r\n    btnext: 'hide',\r\n    waitload: 'hide',\r\n    pagination: 8\r\n  }\r\n\r\n  componentDidMount(){\r\n    console.log(this.props)\r\n    if(this.props.state.data.length > 0){\r\n      this.setState({\r\n        btnext: 'show'\r\n      })\r\n    }else{\r\n      this.setState({\r\n        btnext: 'hide'\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  setQuery = (e) => {\r\n    this.setState({\r\n      query: e.target.value\r\n    });\r\n\r\n    this.props.searchQuery(e.target.value)\r\n    //console.log(this.state.query)\r\n  }\r\n\r\n  searchQuery = async (e) => {\r\n    //console.log(this.state.query)\r\n    if(this.state.query === ''){\r\n      return null\r\n    }else{\r\n      await this.props.fetchData(this.state.query, this.state.pagination, this.beforeLoad, this.afterLoad);\r\n    }\r\n    \r\n  }\r\n\r\n  beforeLoad = () => {\r\n    //console.log(this.state)\r\n    this.setState({\r\n      searchload: 'hide',\r\n      waitload: 'showresult'\r\n    })\r\n  }\r\n\r\n  afterLoad = () => {\r\n    //console.log(this.state)\r\n    this.setState({\r\n      btnext: 'show',\r\n      searchload: 'show',\r\n      waitload: 'hide'\r\n    })\r\n  }\r\n\r\n  searchViaEnter = async (e) => {\r\n     if(e.keyCode === 13){\r\n      await this.props.fetchData(this.state.query, this.state.pagination, this.beforeLoad, this.afterLoad)\r\n    }\r\n  }\r\n\r\n  nextResults = () => {\r\n    this.props.fetchNext(this.props.queryWord, this.state.pagination)\r\n  }\r\n\r\n  changeColor = (e) => {\r\n    if(e.target.classList.contains(undefined) || e.target.classList.contains('nocolor')){\r\n      this.props.addActive(parseInt(e.target.dataset.index), this.props.state.data.length)\r\n      this.props.addFavorite(this.props.state.data[e.target.dataset.index].images[\"480w_still\"].url)\r\n\r\n    }else if(e.target.classList.contains('yescolor')){\r\n      this.props.removeActive(parseInt(e.target.dataset.index), this.props.state.data.length)\r\n      //this.props.addActive(parseInt(e.target.dataset.index), this.props.state.data.length)\r\n      let index = this.props.state.favlist.indexOf(this.props.state.data[e.target.dataset.index].images[\"480w_still\"].url);\r\n      if(index > -1){\r\n        this.props.removeFavorite(index)\r\n        console.log(index)\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    //console.log(this.props.state)\r\n     console.log(this.props.state.favlist)\r\n    const images = this.props.state.data.length > 0 ? (\r\n     this.props.state.data.map((item, index) => {\r\n       return  <div key={index} className=\"image-wrapper\">\r\n                  <img  src={item.images[\"480w_still\"].url}/>\r\n                  <i data-index={index} data-color={this.props.state.colorzero} onClick={this.changeColor} className={\"fas fa-heart \" + this.props.shownList[index]}></i>\r\n               </div>\r\n     })\r\n    ) : (\r\n      null\r\n    );\r\n\r\n    // const nextButton = this.props.state.data.length > 0 ? (\r\n    //     <button onClick={this.nextResults} className=\"nextbtn\">Next</button>\r\n    // ) : (\r\n    //   null\r\n    // );\r\n\r\n    return (\r\n      <div className=\"search-container\">\r\n        <div className=\"search-input\">\r\n          <input onChange={this.setQuery} onKeyUp={this.searchViaEnter} type=\"text\" placeholder=\"Start searching for images!\"/>\r\n          <button onClick={this.searchQuery}>Search</button>\r\n        </div>\r\n        <div className={\"search \" + this.state.searchload}>\r\n            {images}\r\n        </div>\r\n         <p className={this.state.waitload}>LOADING...</p>\r\n        <button onClick={this.nextResults} className={\"nextbtn \" + this.state.btnext}>Next</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state: state\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchData: async (query, pagination, beforeLoad, afterLoad) => {\r\n      beforeLoad()\r\n      const getData = await fetch(`http://api.giphy.com/v1/gifs/search?q=${query}&api_key=h20Y5jKjyQXumGfT2asKUdo8dkaSCvwd&limit=8`)\r\n      const data = await getData.json();\r\n      await dispatch({\r\n        type: 'fetch_data',\r\n        payload: data\r\n      })\r\n      afterLoad()\r\n    },\r\n\r\n    fetchNext: async (query, pagination) => {\r\n      const getData = await fetch(`http://api.giphy.com/v1/gifs/search?q=${query}&api_key=h20Y5jKjyQXumGfT2asKUdo8dkaSCvwd&limit=8&offset=${pagination}`)\r\n      const data = await getData.json();\r\n      dispatch({\r\n        type: 'fetch_next',\r\n        payload: data\r\n      })\r\n    },\r\n\r\n    addFavorite: (fav) => {\r\n      dispatch({\r\n        type: 'add_favorite',\r\n        payload: fav\r\n      })\r\n    },\r\n\r\n    removeFavorite: (fav) =>{\r\n      dispatch({\r\n        type: 'remove_favorite',\r\n        payload: fav\r\n      })\r\n    }\r\n\r\n     \r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Search);\r\n","import React, { Component } from 'react';\r\nimport {NavLink, Route} from 'react-router-dom'\r\n\r\nimport Favourites from './components/favourites'\r\nimport Search from './components/search'\r\n\r\nclass App extends Component {\r\n\r\n  state = {\r\n    active: 0,\r\n    shown: [],\r\n    shownlist: [],\r\n    searchquery: ''\r\n  }\r\n\r\n  componentDidMount(){\r\n    \r\n  }\r\n\r\n  removeActive = (item ,len)=> {\r\n    if(this.state.shown.length > 0){\r\n      let index = this.state.shown.indexOf(item)\r\n      if(index > -1){\r\n        this.state.shown.splice(index, 1)\r\n      }\r\n      //this.state.shown.pop()\r\n    }\r\n\r\n    let arr = []\r\n    for(let i=0; i<len; i++){\r\n      arr.push(\"nocolor\")\r\n    }\r\n\r\n    for(let i=0; i<this.state.shown.length; i++){\r\n      if(arr[this.state.shown[i]] === undefined){\r\n         arr[this.state.shown[i]] = \"yescolor\"\r\n      }else if(arr[this.state.shown[i]] === \"yescolor\"){\r\n         arr[this.state.shown[i]] = \"nocolor\"\r\n      }else if(arr[this.state.shown[i]] === \"nocolor\"){\r\n         arr[this.state.shown[i]] = \"yescolor\"\r\n      }\r\n     \r\n    }\r\n\r\n    this.setState({\r\n      shownlist: arr,\r\n      active: this.state.shown.length\r\n    })\r\n    console.log(this.state)\r\n  }\r\n\r\n  setActive = async (item, len) => {\r\n    await this.setState({\r\n      shown: [...this.state.shown, item]\r\n    });\r\n\r\n    let arr = []\r\n    for(let i=0; i<len; i++){\r\n      arr.push(\"nocolor\")\r\n    }\r\n\r\n    for(let i=0; i<this.state.shown.length; i++){\r\n      if(arr[this.state.shown[i]] === undefined){\r\n         arr[this.state.shown[i]] = \"yescolor\"\r\n      }else if(arr[this.state.shown[i]] === \"yescolor\"){\r\n         arr[this.state.shown[i]] = \"nocolor\"\r\n      }else if(arr[this.state.shown[i]] === \"nocolor\"){\r\n         arr[this.state.shown[i]] = \"yescolor\"\r\n      }\r\n     \r\n    }\r\n\r\n    this.setState({\r\n      shownlist: arr,\r\n      active: this.state.shown.length\r\n    })\r\n  }\r\n\r\n  searchQuery = (query) =>{\r\n    this.setState({\r\n      searchquery: query\r\n    })\r\n  }\r\n\r\n  refreshPage = () => {\r\n    //refresh to homepage\r\n    window.location.href = \"http://localhost:3000\"\r\n  }\r\n\r\n  render() {\r\n    //console.log(this.state)\r\n    return (\r\n      <div className=\"App\">\r\n        <nav>\r\n          <p onClick={this.refreshPage}>Galler<span>Easy</span></p>\r\n          <NavLink exact={true} activeClassName=\"is-active\" to=\"/\">Search</NavLink>\r\n          <NavLink activeClassName=\"is-active\" to=\"/favourites\">Favourites({this.state.active})</NavLink>\r\n        </nav>\r\n       <Route exact path=\"/\" render={(props) => <Search {...props} removeActive={(item, len) => this.removeActive(item,len)} queryWord={this.state.searchquery} addActive={(item, len) => this.setActive(item, len)}  isShown={this.state.shown} shownList={this.state.shownlist} searchQuery={(query) => this.searchQuery(query)} />}></Route>\r\n       <Route path=\"/favourites\" component={Favourites}></Route>\r\n       <div className=\"footer\">\r\n        <p>Gallereasy POC webapp</p>\r\n        <p>2359 media</p>\r\n       </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport {Provider} from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport {HashRouter} from 'react-router-dom'\r\nimport reducer from './reducer/rootReducer.js'\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk))\r\n\r\nReactDOM.render(<Provider store={store}><HashRouter><App /></HashRouter></Provider>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}